<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<script>

function imgUpload(){
	const personalFlavors = document.querySelector('#fileInput');

	var formData = new FormData();
	formData.append("personalFlavors",personalFlavors);
	fetch('/CONT/upload', {
	    method: 'POST',
	    cache: 'no-cache',
	    body: formData
	})
	.then((response) => response.json())
	.then((data) => {
	    var list = "";
		console.log("txts[0]: " + JSON.parse(data.result).data.txts[0])
	    for(var i=0; i<JSON.parse(data.result).data.txts.length; i++){
	    	list += "<div><span>" + JSON.parse(data.result).data.txts[i] + "</div>";
	    }
	    document.getElementById("ocr_result_time").innerHTML = data.time;
	    document.getElementById("ocr_result").innerHTML = list;
	});
}
</script>

<body>
	<input id="fileInput" name="uploadfile"/>
	<button type="button" id="insert" onclick=imgUpload()>결과 확인</button>
	<br/>
	<br/>
	<span style="font-size: 24px;">처리 시간 : </span><span id="ocr_result_time" style="font-size: 24px;"></span>
	<br/>
	<br/>
	<span style="font-size: 24px;">처리 결과 : </span>
	<div id="ocr_result"></div>
</body>
</html>